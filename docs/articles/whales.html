<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How `attackR` works with whale attacks • attackR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How `attackR` works with whale attacks">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">attackR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/main.html">How `attackR` works</a>
    </li>
    <li>
      <a href="../articles/whales.html">How `attackR` works with whale attacks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>How <code>attackR</code> works with whale attacks</h1>



      <div class="hidden name"><code>whales.Rmd</code></div>

    </div>



<p>This vignette details how <code>attackR</code> specifically takes account of the unique lunge feeding mode of rorqual whales (i.e. its gigantic size, and huge expanding buccal cavity) when determining how much of a prey’s visual field is occupied by an attacking whale.</p>
<p>The <a href="https://nicholascarey.github.io/attackR/articles/main.html"><strong>How attackR works</strong></a> vignette details the basics of the package, so it is highly recommended you read that first.</p>
<div id="whale-lunge-feeding" class="section level1">
<h1 class="hasAnchor">
<a href="#whale-lunge-feeding" class="anchor"></a>Whale Lunge Feeding</h1>
<p>Whale lunge feeding differs from other predator attacks in that when approaching the prey the whale expands its jaws, and these rapidly increase in apparent size until they obscure the rest of the whale’s body and dominate the prey’s visual field.</p>
<p><code>attack_model_whale</code> is a whale-specific version of the <code>attack_model</code> function with specific inputs and behaviour to deal with this. These include morphometric inputs for jaw location and angle, and timings of the mouth opening.</p>
<div id="in-whales" class="section level2">
<h2 class="hasAnchor">
<a href="#in-whales" class="anchor"></a><strong>⍺</strong> in whales</h2>
<p>As with other predators, the <strong>⍺</strong> of a whale is determined by its maximum width, except at close viewing distances where more anterior parts of the body may project a larger <strong>⍺</strong>.</p>
<p><br><img src="whale_alpha.png" width="75%" style="display: block; margin: auto;"><br></p>
<p>However, in lunge feeding whales when they open their mouths their jaws rapidly eclipse the <strong>⍺</strong> of the body, and moreover it is not symmetrical, with upper and lower jaws projecting a different <strong>⍺</strong>.</p>
<br><div class="figure" style="text-align: center">
<img src="whale_jaw_alpha.png" alt="Illustrations by [Alex Boersma](https://www.alexboersma.com)" width="75%"><p class="caption">
Illustrations by <a href="https://www.alexboersma.com">Alex Boersma</a>
</p>
</div>
<p><br></p>
</div>
<div id="overview-of-the-function" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-of-the-function" class="anchor"></a>Overview of the function</h2>
<p>To summarise the function, for each instance of the model:</p>
<ul>
<li>As in <a href="https://nicholascarey.github.io/attackR/articles/main.html#overview"><code>attack_model</code></a>, it determines the <strong>⍺</strong> for the entire whale body using a shape profile</li>
<li>It then programatically determines the location of both jaw tips during the mouth opening event, and their distance from the prey</li>
<li>It separately calculates the <strong>α</strong> for each jaw and combines these to give a total jaw <strong>α</strong>
</li>
<li>This is compared to the <strong>α</strong> of the rest of the body to determine the maximum <strong>α</strong>
</li>
</ul>
</div>
<div id="additional-inputs" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-inputs" class="anchor"></a>Additional inputs</h2>
<div id="jaw_length" class="section level4">
<h4 class="hasAnchor">
<a href="#jaw_length" class="anchor"></a><code>jaw_length</code>
</h4>
<p>The distance of the whale’s jaw hinge (i.e. where upper and lower jaws meet) from the rostrum (i.e. snout). Can be an exact value or an allometric formula based on length (source: Kahane‐Rapport &amp; Goldbogen, 2018). For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co">## set body length - 10.5 m</span></a>
<a class="sourceLine" id="cb1-2" title="2">hw_length &lt;-<span class="st"> </span><span class="dv">1050</span></a>
<a class="sourceLine" id="cb1-3" title="3">  </a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">## Humpback Whale jaw location in cm from rostrum</span></a>
<a class="sourceLine" id="cb1-5" title="5">jaw_length =<span class="st"> </span>(<span class="dv">10</span><span class="op">^</span>(<span class="fl">1.205</span><span class="op">*</span><span class="kw"><a href="https://rdrr.io/r/base/Log.html">log10</a></span>(hw_length<span class="op">/</span><span class="dv">100</span>) <span class="op">-</span><span class="st"> </span><span class="fl">0.880</span>))<span class="op">*</span><span class="dv">100</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7">jaw_length</a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; [1] 224.1471</span></a></code></pre></div>
</div>
<div id="jaw_angle_upper-jaw_angle_lower" class="section level4">
<h4 class="hasAnchor">
<a href="#jaw_angle_upper-jaw_angle_lower" class="anchor"></a><code>jaw_angle_upper</code>, <code>jaw_angle_lower</code>
</h4>
<p>These are the angles in radians off the longitudnal axis of the upper and lower jaws at maximum gape. In both humpbacks and blue whales this is 0.524 (30°) for the upper jaw and 0.873 (50°) for the lower.</p>
</div>
<div id="a_mouth_open-b_max_gape_start-c_max_gape_end-d_mouth_closed" class="section level4">
<h4 class="hasAnchor">
<a href="#a_mouth_open-b_max_gape_start-c_max_gape_end-d_mouth_closed" class="anchor"></a><code>a_mouth_open</code>, <code>b_max_gape_start</code> ,<code>c_max_gape_end</code>, <code>d_mouth_closed</code>
</h4>
<p>These determine when and how rapidly the mouth is opened and closed. Each is an index or location along the model when the event occurs. They can be used to examine the results of opening the mouth at different stages of an attack, for example timing maximum gape to be cooincident with maximum speed, or opening the mouth only when very close to the prey. By leaving them <code>NULL</code> you can also examine the implications of the whale <em>not</em> opening its mouth.</p>
</div>
</div>
</div>
<div id="example-analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#example-analysis" class="anchor"></a>Example analysis</h1>
<p>Here we will show an example of how <strong>⍺</strong> and <strong>d⍺/dt</strong> change during an attack by a humpback whale. As with the example in the <code>attack_model</code> <a href="https://nicholascarey.github.io/attackR/articles/main.html#overview">vignette</a> the function requires a shape profile. As with that example, these were obtained from side and overhead images on a humpback. Maximum width location as measured from several whales was found to be at 42% along the body in both planes, that is not part of the profiles and so entered separately. Note, only the widths of the body anterior of the maximum were measured, and profiles contain approximate placeholder values posterior of the maximum width. No part of the body posterior of the maximum width can ever produce a larger <strong>⍺</strong> (see <a href="https://nicholascarey.github.io/attackR/articles/whales.html#additional-notes">note here</a>).</p>
<p>In this example we also streamline some of the inputs. Body width in both planes and jaw length are entered via formulae of known allometric relationships with body length (source: Kahane‐Rapport &amp; Goldbogen, 2018).</p>
<p>For speed, we use data from humpback whales feeding on anchovies in Southern California captured via biologging tags, and included as a data file in the package (<code><a href="../reference/af_speeds_socal.rd.html">attackR::af_speeds_socal.rd</a></code>). This is 1500 records long at 60 Hz, and contains both the approach, feeding event, and aftermath of the foraging bout. We use the <code>model_length</code> input to place the prey at position <code>651</code> which is approximately 1s after the maximum speed of the whale. That is, this times the whale reaching the prey at that moment. This comes from field observations where humpbacks have been seen to slow down close to a school.</p>
<p>We use the mouth opening inputs to determine the opening of the mouth, first to not open at all, secondly to have the whale reach maximum gape cooincident with reaching the prey.</p>
<p>We filter widths to use the midpoint value between vertical and horizontal planes (although both will be far exceeded by the mouth opening). We also enter the <code>dadt_range</code> from that we experimentally determined anchovies react to (<a href="https://www.pnas.org/content/117/1/472">link to study</a>).</p>
<p>All of these inputs can be varied to examine other scenarios.</p>
<p>First, we will look at what happens if the whale does not open its mouth.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">## Mouth NOT opening</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">## Body length of humpback whale</span></a>
<a class="sourceLine" id="cb2-5" title="5">hw_length &lt;-<span class="st"> </span><span class="dv">1050</span></a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">## Body profiles</span></a>
<a class="sourceLine" id="cb2-8" title="8">hw_prof_v &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.000</span>, <span class="co"># 0% nose</span></a>
<a class="sourceLine" id="cb2-9" title="9">               <span class="fl">0.344</span>, <span class="fl">0.558</span>, <span class="fl">0.676</span>, <span class="fl">0.721</span>, <span class="fl">0.777</span>, <span class="fl">0.880</span>, <span class="fl">0.931</span>, <span class="fl">0.980</span>, <span class="fl">0.900</span>, <span class="fl">0.800</span>, <span class="co">## 5-50%</span></a>
<a class="sourceLine" id="cb2-10" title="10">               <span class="fl">0.700</span>, <span class="fl">0.600</span>, <span class="fl">0.500</span>, <span class="fl">0.400</span>, <span class="fl">0.300</span>, <span class="fl">0.250</span>, <span class="fl">0.200</span>, <span class="fl">0.150</span>, <span class="fl">0.100</span>, <span class="fl">0.000</span>) <span class="co">## 55-100% tail</span></a>
<a class="sourceLine" id="cb2-11" title="11"></a>
<a class="sourceLine" id="cb2-12" title="12">hw_prof_h &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.000</span>,</a>
<a class="sourceLine" id="cb2-13" title="13">               <span class="fl">0.329</span>, <span class="fl">0.443</span>, <span class="fl">0.595</span>, <span class="fl">0.708</span>, <span class="fl">0.803</span>, <span class="fl">0.847</span>, <span class="fl">0.904</span>, <span class="fl">0.973</span>, <span class="fl">0.900</span>, <span class="fl">0.800</span>,</a>
<a class="sourceLine" id="cb2-14" title="14">               <span class="fl">0.700</span>, <span class="fl">0.600</span>, <span class="fl">0.500</span>, <span class="fl">0.400</span>, <span class="fl">0.300</span>, <span class="fl">0.250</span>, <span class="fl">0.200</span>, <span class="fl">0.150</span>, <span class="fl">0.100</span>, <span class="fl">0.000</span>)</a>
<a class="sourceLine" id="cb2-15" title="15"></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="co">## Run model</span></a>
<a class="sourceLine" id="cb2-17" title="17">af_socal_model &lt;-<span class="st"> </span><span class="kw"><a href="../reference/attack_model_whale.html">attack_model_whale</a></span>(</a>
<a class="sourceLine" id="cb2-18" title="18">  <span class="dt">speed =</span> af_speeds_socal.rd,</a>
<a class="sourceLine" id="cb2-19" title="19">  <span class="dt">model_length =</span> <span class="dv">651</span>,</a>
<a class="sourceLine" id="cb2-20" title="20">  <span class="dt">frequency =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb2-21" title="21">  <span class="dt">body_length =</span> hw_length,</a>
<a class="sourceLine" id="cb2-22" title="22">  <span class="dt">body_width_v =</span> ((hw_length<span class="op">*</span><span class="fl">0.75</span>)<span class="op">/</span>pi),</a>
<a class="sourceLine" id="cb2-23" title="23">  <span class="dt">body_width_h =</span> ((hw_length<span class="op">*</span><span class="fl">0.75</span>)<span class="op">/</span>pi),</a>
<a class="sourceLine" id="cb2-24" title="24">  <span class="dt">profile_v =</span> hw_prof_v,</a>
<a class="sourceLine" id="cb2-25" title="25">  <span class="dt">profile_h =</span> hw_prof_h,</a>
<a class="sourceLine" id="cb2-26" title="26">  <span class="dt">max_width_loc_v =</span> <span class="fl">0.42</span>,</a>
<a class="sourceLine" id="cb2-27" title="27">  <span class="dt">max_width_loc_h =</span> <span class="fl">0.42</span>,</a>
<a class="sourceLine" id="cb2-28" title="28">  <span class="dt">width_filter =</span> <span class="st">"mid"</span>,</a>
<a class="sourceLine" id="cb2-29" title="29">  <span class="dt">jaw_length =</span> (<span class="dv">10</span><span class="op">^</span>(<span class="fl">1.205</span><span class="op">*</span><span class="kw"><a href="https://rdrr.io/r/base/Log.html">log10</a></span>(hw_length<span class="op">/</span><span class="dv">100</span>) <span class="op">-</span><span class="st"> </span><span class="fl">0.880</span>))<span class="op">*</span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb2-30" title="30">  <span class="dt">jaw_angle_upper =</span> <span class="fl">0.5235988</span>,</a>
<a class="sourceLine" id="cb2-31" title="31">  <span class="dt">jaw_angle_lower =</span> <span class="fl">0.8726646</span>,</a>
<a class="sourceLine" id="cb2-32" title="32">  <span class="dt">a_mouth_open =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb2-33" title="33">  <span class="dt">b_max_gape_start =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb2-34" title="34">  <span class="dt">c_max_gape_end =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb2-35" title="35">  <span class="dt">d_mouth_closed =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb2-36" title="36">  <span class="dt">simple_output =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb2-37" title="37">  <span class="dt">plot =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb2-38" title="38">  <span class="dt">plot_from =</span> <span class="dv">9</span>,</a>
<a class="sourceLine" id="cb2-39" title="39">  <span class="dt">plot_to =</span> <span class="fl">11.5</span>,</a>
<a class="sourceLine" id="cb2-40" title="40">  <span class="dt">alpha_range =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb2-41" title="41">  <span class="dt">dadt_range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.89</span>, <span class="fl">2.06</span>))</a>
<a class="sourceLine" id="cb2-42" title="42"><span class="co">#&gt; Whale model with mouth NOT opening...</span></a></code></pre></div>
<p><img src="whales_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw"><a href="../reference/get_dist.html">get_dist</a></span>(af_socal_model, <span class="dt">dadt =</span> <span class="fl">0.89</span>)</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt; attack_model_whale input - distance is from low jaw tip</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt; [1] 87.09317</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw"><a href="../reference/get_time.html">get_time</a></span>(af_socal_model, <span class="dt">dadt =</span> <span class="fl">0.89</span>)</a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt; attack_model_whale input - time is from low jaw tip</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; [1] 0.25</span></a></code></pre></div>
<p>Here, we see the light green region is the <strong>d⍺/dt</strong> anchovies react to. Even at the lowest <strong>d⍺/dt</strong> value of 0.89, we can see the whale gets to as close as 87 cm and only 0.25 s from the prey. It is somewhat counter-intuitive, but the whale’s sheer bulk and size, its tapered shape, and the <strong>d⍺/dt</strong> this projects at these attack speeds means that if it does not open its mouth, it can get extremely close to an anchovy school before the first fish start to react. This finding was supported by footage taken from cameras attached to humpback whales which shows anchovy schools maintaining cohesion when the whale approaches without lunging (<a href="https://purl.stanford.edu/mt574ws5287">Vid. S4</a>).</p>
<p>Now we will look at what happens when it does open its mouth.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">## Run model</span></a>
<a class="sourceLine" id="cb4-4" title="4">af_socal_model &lt;-<span class="st"> </span><span class="kw"><a href="../reference/attack_model_whale.html">attack_model_whale</a></span>(</a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="dt">speed =</span> af_speeds_socal.rd,</a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="dt">model_length =</span> <span class="dv">651</span>,</a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="dt">frequency =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="dt">body_length =</span> hw_length,</a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="dt">body_width_v =</span> ((hw_length<span class="op">*</span><span class="fl">0.75</span>)<span class="op">/</span>pi),</a>
<a class="sourceLine" id="cb4-10" title="10">  <span class="dt">body_width_h =</span> ((hw_length<span class="op">*</span><span class="fl">0.75</span>)<span class="op">/</span>pi),</a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="dt">profile_v =</span> hw_prof_v,</a>
<a class="sourceLine" id="cb4-12" title="12">  <span class="dt">profile_h =</span> hw_prof_h,</a>
<a class="sourceLine" id="cb4-13" title="13">  <span class="dt">max_width_loc_v =</span> <span class="fl">0.42</span>,</a>
<a class="sourceLine" id="cb4-14" title="14">  <span class="dt">max_width_loc_h =</span> <span class="fl">0.42</span>,</a>
<a class="sourceLine" id="cb4-15" title="15">  <span class="dt">width_filter =</span> <span class="st">"mid"</span>,</a>
<a class="sourceLine" id="cb4-16" title="16">  <span class="dt">jaw_length =</span> (<span class="dv">10</span><span class="op">^</span>(<span class="fl">1.205</span><span class="op">*</span><span class="kw"><a href="https://rdrr.io/r/base/Log.html">log10</a></span>(hw_length<span class="op">/</span><span class="dv">100</span>) <span class="op">-</span><span class="st"> </span><span class="fl">0.880</span>))<span class="op">*</span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb4-17" title="17">  <span class="dt">jaw_angle_upper =</span> <span class="fl">0.5235988</span>,</a>
<a class="sourceLine" id="cb4-18" title="18">  <span class="dt">jaw_angle_lower =</span> <span class="fl">0.8726646</span>,</a>
<a class="sourceLine" id="cb4-19" title="19">  <span class="dt">a_mouth_open =</span> <span class="dv">613</span>,</a>
<a class="sourceLine" id="cb4-20" title="20">  <span class="dt">b_max_gape_start =</span> <span class="dv">651</span>,</a>
<a class="sourceLine" id="cb4-21" title="21">  <span class="dt">c_max_gape_end =</span> <span class="dv">663</span>,</a>
<a class="sourceLine" id="cb4-22" title="22">  <span class="dt">d_mouth_closed =</span> <span class="dv">709</span>,</a>
<a class="sourceLine" id="cb4-23" title="23">  <span class="dt">simple_output =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb4-24" title="24">  <span class="dt">plot =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb4-25" title="25">  <span class="dt">plot_from =</span> <span class="dv">9</span>,</a>
<a class="sourceLine" id="cb4-26" title="26">  <span class="dt">plot_to =</span> <span class="fl">11.5</span>,</a>
<a class="sourceLine" id="cb4-27" title="27">  <span class="dt">alpha_range =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb4-28" title="28">  <span class="dt">dadt_range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.89</span>, <span class="fl">2.06</span>))</a>
<a class="sourceLine" id="cb4-29" title="29"><span class="co">#&gt; Whale model with mouth opening...</span></a></code></pre></div>
<p><img src="whales_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<div id="for-any-of-the-models-the-screen-diameters-for-a-given-viewing-distance" class="section level2">
<h2 class="hasAnchor">
<a href="#for-any-of-the-models-the-screen-diameters-for-a-given-viewing-distance" class="anchor"></a>For any of the models, the screen diameters for a given viewing distance</h2>
</div>
<div id="both-must-be-in-same-units-as-morphometric-inputs-to-model-can-be" class="section level2">
<h2 class="hasAnchor">
<a href="#both-must-be-in-same-units-as-morphometric-inputs-to-model-can-be" class="anchor"></a>(both must be in same units as morphometric inputs to model) can be</h2>
</div>
<div id="calculated-and-added-to-the-model-with-this-function-" class="section level2">
<h2 class="hasAnchor">
<a href="#calculated-and-added-to-the-model-with-this-function-" class="anchor"></a>calculated and added to the model with this function.</h2>
<p>af_mont_model &lt;- add_screen_diam(af_mont_model, screen_distance = 16)</p>
</div>
<div id="other-whales" class="section level2">
<h2 class="hasAnchor">
<a href="#other-whales" class="anchor"></a>Other whales</h2>
<p>The online SI for the PNAS paper also contains examples of this package being used to detemine <strong>⍺</strong>for blue whales, but other whale species could be examined. All that is required is small alterations to some of the inputs. Namely, jaw length and angle.</p>
</div>
<div id="additional-notes" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-notes" class="anchor"></a>Additional notes</h2>
<ul>
<li><p>Mouth opening <strong>⍺</strong> calculations are done in the vertical plane only, and occur separately from any <strong>⍺</strong> calculations done using the body profiles; if the total jaw <strong>⍺</strong> is greater than the <strong>⍺</strong> determined from the body widths, it will always be selected as the maximum <strong>⍺</strong> regardless of any filtering between vertical and horizontal planes using <em></em>.</p></li>
<li><p>All angle measurements are in <strong><em>radians</em></strong> and <strong>d⍺/dt</strong> is in <strong><em>rad/s</em></strong>.</p></li>
<li><p>No part of the predator body anterior to the maximum width can ever project a higher <strong>⍺</strong> than the maximum width, so shape profiles are only really important from the nose to the maximum width. Values more posterior than that can be placeholders and they will not affect the results. However it is important they have values to maintain the evenly-spaced resolution of the profiles.</p></li>
</ul>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Kahane-Rapport, S.R., &amp; Goldbogen, J.A., 2018. Allometric scaling of morphology and engulfment capacity in rorqual whales. <em>Journal of Morphology</em> 279, 1256–1268. <a href="https://doi.org/10.1002/jmor.20846" class="uri">https://doi.org/10.1002/jmor.20846</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#whale-lunge-feeding">Whale Lunge Feeding</a><ul class="nav nav-pills nav-stacked">
<li><a href="#in-whales"><strong>⍺</strong> in whales</a></li>
      <li><a href="#overview-of-the-function">Overview of the function</a></li>
      <li><a href="#additional-inputs">Additional inputs</a></li>
      </ul>
</li>
      <li>
<a href="#example-analysis">Example analysis</a><ul class="nav nav-pills nav-stacked">
<li><a href="#for-any-of-the-models-the-screen-diameters-for-a-given-viewing-distance">For any of the models, the screen diameters for a given viewing distance</a></li>
      <li><a href="#both-must-be-in-same-units-as-morphometric-inputs-to-model-can-be">(both must be in same units as morphometric inputs to model) can be</a></li>
      <li><a href="#calculated-and-added-to-the-model-with-this-function-">calculated and added to the model with this function.</a></li>
      <li><a href="#other-whales">Other whales</a></li>
      <li><a href="#additional-notes">Additional notes</a></li>
      </ul>
</li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>




  </body>
</html>
