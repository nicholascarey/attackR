<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How `attackR` works with whale attacks • attackR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How `attackR` works with whale attacks">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">attackR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/main.html">How `attackR` works</a>
    </li>
    <li>
      <a href="../articles/whales.html">How `attackR` works with whale attacks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>How <code>attackR</code> works with whale attacks</h1>



      <div class="hidden name"><code>whales.Rmd</code></div>

    </div>



<p>This vignette details how <code>attackR</code> specifically takes account of the unique lunge feeding mode of rorqual whales (i.e. its gigantic size, and huge expanding buccal cavity) when determining how much of a prey’s visual field is occupied by an attacking whale.</p>
<p>The <a href="https://nicholascarey.github.io/attackR/articles/main.html"><strong>How <code>attackR</code> works`</strong></a> vignette details the basics of the package, so it is highly recommended you read that first.</p>
<div id="whale-lunge-feeding" class="section level1">
<h1 class="hasAnchor">
<a href="#whale-lunge-feeding" class="anchor"></a>Whale Lunge Feeding</h1>
<p>Whale lunge feeding differs from other predator attacks in that when approaching the prey the whale expands its jaws, and these rapidly increase in apparent size until they obscure the rest of the whale’s body and dominate the prey’s visual field.</p>
<p><code>attack_model_whale</code> is a whale-specific version of the <code>attack_model</code> function with specific inputs and behaviour to deal with this. These include morphometric inputs for jaw location and angle, and timings of the mouth opening.</p>
<div id="in-whales" class="section level2">
<h2 class="hasAnchor">
<a href="#in-whales" class="anchor"></a><strong>⍺</strong> in whales</h2>
<p>As with other predators, the <strong>⍺</strong> of a whale is determined by its maximum width, except at close viewing distances where more anterior parts of the body may project a larger <strong>⍺</strong>.</p>
<p><br><img src="whale_alpha.png" width="75%" style="display: block; margin: auto;"><br></p>
<p>However, in lunge feeding whales when they open their mouths their jaws rapidly eclipse the <strong>⍺</strong> of the body, and moreover it is not symmetrical, with upper and lower jaws projecting a different <strong>⍺</strong>.</p>
<p><br><img src="whale_jaw_alpha.png" width="75%" style="display: block; margin: auto;"><br></p>
</div>
<div id="overview-of-the-function" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-of-the-function" class="anchor"></a>Overview of the function</h2>
<p>To summarise the function, for each instance of the model:</p>
<ul>
<li>As in <a href="https://nicholascarey.github.io/attackR/articles/main.html#overview"><code>attack_model</code></a>, it determines the <strong>⍺</strong> for the entire whale body using a shape profile</li>
<li>It then programatically determines the location of both jaw tips during the mouth opening event, and their distance from the prey</li>
<li>It separately calculates the <strong>α</strong> for each jaw and combines these to give a total jaw <strong>α</strong>
</li>
<li>This is compared to the <strong>α</strong> of the rest of the body to determine the maximum <strong>α</strong>
</li>
</ul>
</div>
<div id="additional-inputs" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-inputs" class="anchor"></a>Additional inputs</h2>
<p><code>jaw_length</code></p>
<p>The distance of the whale’s jaw hinge (i.e. where upper and lower jaws meet) from the rostrum (i.e. snout). Can be an exact value or an allometric formula based on length (see Kahane‐Rapport &amp; Goldbogen, 2018). For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co">## set body length </span></a>
<a class="sourceLine" id="cb1-2" title="2">hw_bl &lt;-<span class="st"> </span><span class="dv">1057</span></a>
<a class="sourceLine" id="cb1-3" title="3">  </a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">## Humpback Whale jaw location in cm </span></a>
<a class="sourceLine" id="cb1-5" title="5">jaw_length =<span class="st"> </span>(<span class="dv">10</span><span class="op">^</span>(<span class="fl">1.205</span><span class="op">*</span><span class="kw"><a href="https://rdrr.io/r/base/Log.html">log10</a></span>(hw_bl<span class="op">/</span><span class="dv">100</span>) <span class="op">-</span><span class="st"> </span><span class="fl">0.880</span>))<span class="op">*</span><span class="dv">100</span></a></code></pre></div>

<p>Note the body length values (<em></em>, <em></em>) must exist externally; they cannot reference the entered <em></em> value internal to the function, unless this also references the same existing value.</p>
<p><code>jaw_angle_upper</code> <code>jaw_angle_lower</code> <code>a_mouth_open</code> <code>b_max_gape_start</code> <code>c_max_gape_end</code> <code>d_mouth_closed</code></p>
<p><span class="citation">@section</span> <em></em>: The distance of the whale’s jaw ‘hinge’ (i.e. where upper and lower jaws meet) from the rostrum, in the same units as the <em></em>. Can be an exact value or an allometric formula based on length. For <a href="example:%5Ccr" class="uri">example:\cr</a></p>


<p>Note the body length values (<em></em>, <em></em>) must exist externally; they cannot reference the entered <em></em> value internal to the function, unless this also references the same existing value.</p>
<p><span class="citation">@section</span> <em></em>: This is the angle in radians off the longitudnal axis of the whale of the upper jaw at maximum gape. In both humpbacks and blue whales this is 0.5235988 (30°).</p>
<p><span class="citation">@section</span> <em></em>: This is the angle in radians off the longitudnal axis of the whale of the lower jaw at maximum gape. In both humpbacks and blue whales this is 0.8726646 (50°).</p>
<p><span class="citation">@section</span> <em> inputs</em>: <em></em> - when the mouth starts to open * - when maximum gape is reached * - when mouth starts to close, or how long it is held at max gape * - when mouth is completely closed </p>
<p>These inputs set the timings (i.e. iteration, row or frame) of these events within the model. If <em></em> is a vector, they set the locations along the speed vector these events occur. Similarly if <em></em> is a single value, they set similarly the timings within the model, but obviously this is related to <em></em>.</p>
<p>The complete mouth opening action does not have to occur during the model. The inputs can be used to set, for example timing of max gape to be at the last value in the speed vector. Also, if these are left <em></em>, the mouth will not open, and the model is equivalent to one created using <em></em>.</p>
<p><span class="citation">@section</span> Application of the mouth opening and morphology inputs: The function programatically determines the location of the jaw tips at each iteration of the model during the mouth opening event, and their distance from the prey, calculates their visual angle <strong>⍺</strong>, and combines these to give a total jaw <strong>⍺</strong>. This is then compared to the <strong>⍺</strong> of the rest of the body to determine the maximum <strong>⍺</strong>. These calculations are done in the vertical plane only, and occur separately from any <strong>⍺</strong> calculations done using the body profiles; if the total jaw <strong>⍺</strong> is greater than the <strong>⍺</strong> determined from the body widths, it will always be selected as the maximum <strong>⍺</strong> regardless of any filtering between vertical and horizontal planes using <em></em>.</p>
</div>
<div id="additional-notes" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-notes" class="anchor"></a>Additional notes</h2>
<p>These calculations are done in the vertical plane only, and occur separately from any <strong>⍺</strong> calculations done using the body profiles; if the total jaw <strong>⍺</strong> is greater than the <strong>⍺</strong> determined from the body widths, it will always be selected as the maximum <strong>⍺</strong> regardless of any filtering between vertical and horizontal planes using <em></em>.</p>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Kahane-Rapport, S.R., &amp; Goldbogen, J.A., 2018. Allometric scaling of morphology and engulfment capacity in rorqual whales. <em>Journal of Morphology</em> 279, 1256–1268. <a href="https://doi.org/10.1002/jmor.20846" class="uri">https://doi.org/10.1002/jmor.20846</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#whale-lunge-feeding">Whale Lunge Feeding</a><ul class="nav nav-pills nav-stacked">
<li><a href="#in-whales"><strong>⍺</strong> in whales</a></li>
      <li><a href="#overview-of-the-function">Overview of the function</a></li>
      <li><a href="#additional-inputs">Additional inputs</a></li>
      <li><a href="#additional-notes">Additional notes</a></li>
      </ul>
</li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>




  </body>
</html>
